<div fxLayout="column" class="components-container-gt-xs" [ngClass.xs]="'components-container-xs'" fxLayoutGap="20px">

    <div fxFlex class="form-component-holder mat-elevation-z4">
        <mat-toolbar class="form-header">
            <h1 class="mat-headline center-align text" style="margin-left: 15px">Office Details </h1>
        </mat-toolbar>
        <div [hidden]="submitted" fxLayout="column" class="widgetHolder-content" fxLayoutAlign="space-around stretch" style="background-color: white;margin-top: 10px;margin-left: 60px;padding-right: 55px">

            <!-- <button mat-raised-button (click)="isLinear = true" id="toggle-linear">Enable linear mode</button> -->
            <mat-horizontal-stepper [linear]="isLinear">
                <mat-step [stepControl]="firstFormGroup">
                    <form [formGroup]="firstFormGroup">
                        <ng-template matStepLabel class="text">Basic Company Details</ng-template>
                        <form [formGroup]="userForm" fxLayout="column" fxFlex="100">
                            <div>
                                <h2 class="text">Company Details</h2>
                            </div>
                            <div fxLayout="row" class="formField_sm" fxLayoutAlign="start center" fxFlex="1 0 auto">
                                <mat-form-field fxFlex="30" class="form2Input">
                                    <input matInput placeholder="Enter Company Name" [(ngModel)]="companyDetails.companyName" formControlName="userCompanyName"
                                        name=" userCompanyName" required>
                                    <mat-error *ngIf="userForm.controls. userCompanyName.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                                        Company Name is required
                                    </mat-error>
                                </mat-form-field>
                                <mat-form-field fxFlex="30" class="form2Input">
                                    <input matInput type="text" placeholder="Enter Super Admin Name" [(ngModel)]="companyDetails.superAdminName" formControlName="userSuperAdmin"
                                        name="userSuperAdmin" required>
                                    <mat-error *ngIf="userForm.controls.userSuperAdmin.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                                        Super Admin Name is required
                                    </mat-error>
                                </mat-form-field>
                                <mat-form-field fxFlex="30" class="form2Input">
                                    <input matInput type="number" placeholder="Minimum Working Hours per day" [(ngModel)]="companyDetails.minimumWorkingHoursPerDay"
                                        formControlName="userWorkingHours" name="userWorkingHours" required>
                                    <mat-error *ngIf="userForm.controls.userWorkingHours.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                                        This field is required
                                    </mat-error>
                                </mat-form-field>
                            </div>

                            <div style="margin-top: 10px">
                                <h2 class="text">Office Details</h2>
                            </div>
                            <div fxLayout="row" class="formField_sm" fxLayoutAlign="start center" fxFlex="1 0 auto">
                                <mat-form-field fxFlex="30" class="form2Input">
                                    <input matInput type="text" placeholder="Enter Interval Time in Hrs" [(ngModel)]="companyDetails.lateEntryInterval" formControlName="userInterval"
                                        name="userInterval" required>
                                    <mat-error *ngIf="userForm.controls.userInterval.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                                        This field is required
                                    </mat-error>
                                </mat-form-field>
                                <mat-form-field fxFlex="30" class="form2Input">

                                    <mat-select type="text" placeholder="TimeZone" [(ngModel)]="companyDetails.timeZoneOfCompany" formControlName="userTimeZone"
                                        name="userTimeZone" required>
                                        <mat-option *ngFor="let time of TimeZoneArray" [value]="time.zoneName">
                                            <span>{{time.zoneName}} - {{time.countryName}}({{time.countryCode}})</span>
                                        </mat-option>


                                    </mat-select>
                                    <mat-error *ngIf="userForm.controls.userTimeZone.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                                        This field is required
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div style="margin-top: 10px">
                                <h2 class="text">Leave Details</h2>
                            </div>
                            <div fxLayout="row" class="formField_sm" fxLayoutAlign="start center" fxFlex="1 0 auto">
                                <mat-form-field fxFlex="30" class="form2Input">
                                    <input matInput type="number" placeholder="Enter Casual Leave Counts in days" [(ngModel)]="companyDetails.casualLeaves" formControlName="userCasualLeaves"
                                        name="userCasualLeaves" required>
                                    <mat-error *ngIf="userForm.controls.userCasualLeaves.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                                        This field is required
                                    </mat-error>
                                </mat-form-field>

                                <mat-form-field fxFlex="30" class="form2Input">
                                    <input matInput type="number" placeholder="Enter Carry on Leave Count in days" [(ngModel)]="companyDetails.carryOnLeaves"
                                        formControlName="userCarryLeaves" name="userCarryLeaves" required>
                                    <mat-error *ngIf="userForm.controls.userCarryLeaves.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                                        This field is required
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div style="margin-top: 20px;margin-bottom: 30px" fxLayoutAlign="center center" fxFlex="1 0 auto">
                                <button mat-raised-button matStepperNext color="accent" type="submit" [disabled]="!userForm.valid" style="width:150px;margin-left: -60px"
                                    (click)="saveDetails(companyDetails)">Update</button>
                                <!-- <button mat-raised-button color="primary"  [Show]="userForm.submit.$valid == userForm.id." style="width:150px;margin-left: 10px">Update</button> -->
                            </div>
                            <!-- <div style="margin-top: 20px;margin-bottom: 30px" fxLayoutAlign="center center" fxFlex="1 0 auto"> -->
                            <!-- <span ng-show="!regForm.passwordConfirm.$valid"> NOT MATCHED </span>
          <span ng-show="regForm.passwordConfirm.$valid"> MATCHED </span> -->
                            <!-- </div> -->
                        </form>
                        <!-- <div>
                            <button mat-button matStepperNext>Next</button>
                        </div> -->
                    </form>
                </mat-step>
                <mat-step>
                    <ng-template matStepLabel class="text">Department and Designation Details</ng-template>
                    <br>
                    <br>
                    <br>
                    <br>
                    <div fxLayout="row">
                        <div class="col-sm-5" fxLayoutAlign="start " fxFlex="50">
                            <table class="table w3-striped w3-bordered" style="width:80%">
                                <h2 class="text">Department Details</h2>
                                <tbody>
                                    <tr>
                                        <th>
                                            <h4>Department Name</h4>
                                        </th>
                                    </tr>
                                    <tr *ngFor="let field of DeptArray; let i = index">
                                        <td class="td-style">
                                            <!-- <input [(ngModel)]="field.code" class="form-control" type="text" name="{{field.code}}" /> -->
                                            <input matInput type="text tablestyle" placeholder="Enter Department Name" [(ngModel)]="field.departmentName" name="field.departmentName"
                                                required ><i class="fa fa-trash" aria-hidden="true" style="float:right;font-size: 20px;cursor: pointer;"  (click)="deleteDepartmentValue(field.id)"></i>
                                                
                                        </td>

                                    </tr>
                                    <tr>
                                        <td>
                                            <!-- <input class="form-control" type="text" id="newAttributeCode" [(ngModel)]="newAttribute.code" name="newAttributeCode" /> -->
                                            <input matInput type="text tablestyle" placeholder="Enter Department Name" [(ngModel)]="newDept.departmentName" name="newDeptCode"
                                                required>
                                        </td>
                                        <td>
                                            <!-- <button class="btn btn-default" type="button" (click)="addFieldValue()">Add</button> -->
                                            <button mat-raised-button color="warn" type="button" style="border-radius:20px" [disabled]="!newDept.departmentName" (click)="addDepartmentValue()">+</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-sm-5" fxLayoutAlign="center center" fxFlex="50">
                            <table class="table table-striped table-bordered " style="width:80%;">
                                <h2 class="text">Designation Details</h2>
                                <tbody>
                                    <tr>
                                        <th>
                                            <h4>Designation Name</h4>
                                        </th>
                                    </tr>
                                    <tr *ngFor="let field of DesgnArray; let i = index">
                                        <td class="td-style">
                                            <!-- <input [(ngModel)]="field.code" class="form-control" type="text" name="{{field.code}}" /> -->
                                            <input matInput type="text tablestyle" placeholder="Enter Designation Name" [(ngModel)]="field.designationName" name="field.designationName"
                                                required>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <!-- <input class="form-control" type="text" id="newAttributeCode" [(ngModel)]="newAttribute.code" name="newAttributeCode" /> -->
                                            <input matInput type="text tablestyle" placeholder="Enter Designation Name" [(ngModel)]="newDesgn.designationName" name="newDesgnCode"
                                                required>
                                        </td>
                                        <td>
                                            <!-- <button class="btn btn-default" type="button" (click)="addFieldValue()">Add</button> -->
                                            <button mat-raised-button color="warn" type="button" style="border-radius:20px" [disabled]="!newDesgn.designationName" (click)="addDesignationValue()">+</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <br>
                    <br>
                    <br>
                    <br>


                    <div style="margin-top: 20px;margin-bottom: 30px" fxLayoutAlign="center center" fxFlex="1 0 auto">
                        <button mat-raised-button matStepperNext color="accent" (click)="saveAll()" type="submit" style="width:150px;margin-left: -60px">Update</button>
                        <!-- <button mat-raised-button color="primary"  [Show]="userForm.submit.$valid == userForm.id." style="width:150px;margin-left: 10px">Update</button> -->
                    </div>

                </mat-step>
                <mat-step>
                    <ng-template matStepLabel class="text">Shift And Holidays</ng-template>
                    <br>
                    <br>
                    <br>
                    <br>
                    <div fxLayout="row">
                        <div class="col-sm-6" fxLayoutAlign="start start" fxFlex="50">
                            <table class="table table-striped table-bordered" style="margin-top: -15%">
                                <h2 class="text">Shift details</h2>
                                <tbody>
                                    <tr>
                                        <th>
                                            <h4>Shift name</h4>
                                        </th>
                                        <th>
                                            <h4>Start time</h4>
                                        </th>
                                        <th>
                                            <h4>End Time</h4>
                                        </th>
                                    </tr>
                                    <tr *ngFor="let field of ShiftArray; let i = index">
                                        <td class="td-style">
                                            <!-- <input [(ngModel)]="field.code" class="form-control" type="text" name="{{field.code}}" /> -->
                                            <input matInput type="text" placeholder="Enter Shift Name" [(ngModel)]="field.shiftName" name="field.shiftName" required>
                                        </td>
                                        <td class="td-style" style="text-align: center">
                                            <!-- <input [(ngModel)]="field.code" class="form-control" type="text" name="{{field.code}}" /> -->
                                            <input matInput type="text" placeholder="Enter Check In Time" [(ngModel)]="field.startTime" name="field.startTime" required>
                                        </td>
                                        <td class="td-style" style="text-align: center">
                                            <!-- <input [(ngModel)]="field.code" class="form-control" type="text" name="{{field.code}}" /> -->
                                            <input matInput type="text" placeholder="Enter Check Out Time" [(ngModel)]="field.endTime" name="field.endTime" required>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <!-- <input class="form-control" type="text" id="newAttributeCode" [(ngModel)]="newAttribute.code" name="newAttributeCode" /> -->
                                            <input matInput type="text" placeholder="Enter Shift Name" [(ngModel)]="newShift.shiftName" name="newShiftName" required>
                                        </td>
                                        <td>
                                            <!-- <input [(ngModel)]="field.code" class="form-control" type="text" name="{{field.code}}" /> -->
                                            <input matInput type="time" placeholder="Enter Check In Time" [(ngModel)]="newShift.startTime" name="newShiftStart" required>
                                        </td>
                                        <td>
                                            <!-- <input [(ngModel)]="field.code" class="form-control" type="text" name="{{field.code}}" /> -->
                                            <input matInput type="time" placeholder="Enter Check Out Time" [(ngModel)]="newShift.endTime" name="newShiftEnd" required>
                                        </td>
                                        <td>
                                            <!-- <button class="btn btn-default" type="button" (click)="addFieldValue()">Add</button> -->
                                            <button mat-raised-button color="warn" type="button" style="border-radius:20px;" [disabled]="!newShift.shiftName || !newShift.startTime || !newShift.endTime"
                                                (click)="addShiftDetails()">+</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-sm-2"></div>
                        <div class="col-sm-4" fxLayoutAlign="center start" fxFlex="100">
                            <table class="table table-striped table-bordered" style="margin-top: -15%">
                                <h2 class="text">Leave Types</h2>
                                <tbody>
                                    <tr>
                                        <th>
                                            <h4>Leave Name</h4>
                                        </th>
                                    </tr>
                                    <tr *ngFor="let field of LeaveArray; let i = index">
                                        <td class="td-style">
                                            <!-- <input [(ngModel)]="field.code" class="form-control" type="text" name="{{field.code}}" /> -->
                                            <input matInput type="text" placeholder="Enter Leave Name" [(ngModel)]="field.leaveType" name="field.leaveType" required>
                                        </td>

                                    </tr>
                                    <tr>
                                        <td>
                                            <!-- <input class="form-control" type="text" id="newAttributeCode" [(ngModel)]="newAttribute.code" name="newAttributeCode" /> -->
                                            <input matInput type="text" placeholder="Enter Leave Name" [(ngModel)]="newLeave.leaveType" name="newLeaveName" required>
                                        </td>

                                        <td>
                                            <!-- <button class="btn btn-default" type="button" (click)="addFieldValue()">Add</button> -->
                                            <button mat-raised-button color="warn" type="button" style="border-radius:20px;" [disabled]="!newLeave.leaveType " (click)="addLeaveValue()">+</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <br>
                    <br>
                    <div fxLayout="row">
                        <div class="col-sm-6" fxLayoutAlign="start center" fxFlex="100">
                            <table class="table table-striped table-bordered">
                                <h2 class="text">Holiday list</h2>
                                <tbody>
                                    <!-- <tr>
                                        <th>
                                            <h4>Weekends:</h4>
                                        </th>
                                        <td colspan="2">
                                            <mat-radio-group [(ngModel)]="favoriteSeason" class="example-radio-button">
                                                <mat-radio-button [value]=0 class="example-radio-button">
                                                    Sunday
                                                </mat-radio-button>
                                                <mat-radio-button [value]=1 class="example-radio-button">
                                                    Monday
                                                </mat-radio-button>
                                                <mat-radio-button [value]=2 class="example-radio-button">
                                                    Tuesday
                                                </mat-radio-button>
                                                <mat-radio-button [value]=3 class="example-radio-button">
                                                    Wednesday
                                                </mat-radio-button>
                                                <mat-radio-button [value]=4 class="example-radio-button">
                                                    Thursday
                                                </mat-radio-button>
                                                <mat-radio-button [value]=5 class="example-radio-button">
                                                    Friday
                                                </mat-radio-button>
                                                <mat-radio-button [value]=6 class="example-radio-button">
                                                    Saturday
                                                </mat-radio-button>
                                            </mat-radio-group>
                                        </td>
                                    </tr> -->
                                    <tr>
                                        <th>
                                            <h4>Holiday name</h4>
                                        </th>
                                        <th>
                                            <h4>Date</h4>
                                        </th>

                                    </tr>
                                    <tr *ngFor="let field of HolidayArray; let i = index">

                                        <td class="td-style" *ngIf="field.leaveName !='Weekend'">
                                            <!-- <input [(ngModel)]="field.code" class="form-control" type="text" name="{{field.code}}" /> -->
                                            <input matInput type="text" placeholder="Enter Holiday Name" [(ngModel)]="field.leaveName" name="field.shiftName" required
                                                style="padding-left: 10px">
                                        </td>
                                        <td class="td-style" *ngIf="field.leaveName !='Weekend'">
                                            <input matInput type="text" placeholder="Enter Holiday Name" [(ngModel)]="field.leaveDate" style="text-align:center" name="field.shiftName"
                                                required>
                                            <!-- <mat-form-field class="example-full-width">
                                                <input matInput [matDatepickerFilter]="myFilter" [matDatepicker]="picker5"
                                                    placeholder="Choose a date" [(ngModel)]="field.date">
                                                <mat-datepicker-toggle matSuffix [for]="picker6"></mat-datepicker-toggle>
                                                <mat-datepicker #picker6></mat-datepicker>
                                            </mat-form-field> -->
                                            <!-- <input [(ngModel)]="field.code" class="form-control" type="text" name="{{field.code}}" /> -->
                                            <!-- <input matInput type="text" placeholder="Enter Check In Time" [(ngModel)]="field.startTime"
                                                        name="field.startTime" required> -->
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <!-- <input class="form-control" type="text" id="newAttributeCode" [(ngModel)]="newAttribute.code" name="newAttributeCode" /> -->
                                            <input matInput type="text" placeholder="Enter Holiday Name" [(ngModel)]="newHoliday.leaveName" name="newHoliday" required>
                                        </td>
                                        <td>
                                            <mat-form-field class="example-full-width">
                                                <input matInput [matDatepickerFilter]="myFilter" [matDatepicker]="picker5" placeholder="Choose a date" [(ngModel)]="newHoliday.leaveDate"
                                                    name="newHolidayDate">
                                                <mat-datepicker-toggle matSuffix [for]="picker5"></mat-datepicker-toggle>
                                                <mat-datepicker #picker5></mat-datepicker>
                                            </mat-form-field>
                                        </td>
                                        <td>
                                            <!-- <button class="btn btn-default" type="button" (click)="addFieldValue()">Add</button> -->
                                            <button mat-raised-button color="warn" type="button" style="border-radius:20px;" [disabled]=" !newHoliday.leaveName" (click)="addHoliday()">+</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-sm-4" fxLayoutAlign="center start" fxFlex="100">
                            <table class="table table-striped table-bordered">
                                <h2 class="text">User Role List</h2>
                                <tbody>
                                    <tr>
                                        <th>
                                            <h4>Role Name</h4>
                                        </th>
                                    </tr>
                                    <tr *ngFor="let field of RoleArray; let i = index">
                                        <td class="td-style">
                                            <!-- <input [(ngModel)]="field.code" class="form-control" type="text" name="{{field.code}}" /> -->
                                            <input matInput type="text" placeholder="Enter User Role " [(ngModel)]="field.roleName" name="field.roleName" required>
                                        </td>

                                    </tr>
                                    <tr>
                                        <td>
                                            <!-- <input class="form-control" type="text" id="newAttributeCode" [(ngModel)]="newAttribute.code" name="newAttributeCode" /> -->
                                            <input matInput type="text" placeholder="Enter User Role" [(ngModel)]="newRole.roleName" name="newRoleName" required>
                                        </td>

                                        <td>
                                            <!-- <button class="btn btn-default" type="button" (click)="addFieldValue()">Add</button> -->
                                            <button mat-raised-button color="warn" type="button" style="border-radius:20px;" [disabled]="!newRole.roleName" (click)="addUserRole()">+</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                    </div>
                    <div fxLayout="row" fxFlex="100">


                    </div>
                    <div fxLayout="row" fxFlex="100">
                        <div style="margin-top: 20px;margin-bottom: 30px" fxLayoutAlign="center center" fxFlex="1 0 auto">
                            <button mat-raised-button matStepperNext color="accent" type="submit" (click)="Office()" style="width:150px;margin-left: -60px">Update</button>
                            <!-- <button mat-raised-button color="primary"  [Show]="userForm.submit.$valid == userForm.id." style="width:150px;margin-left: 10px">Update</button> -->
                        </div>
                    </div>
                    <br>
                    <br>
                    <br>
                    <br>
                    <!-- <div>
                        <button mat-button matStepperPrevious>Back</button>
                    </div> -->
                </mat-step>
            </mat-horizontal-stepper>


        </div>

    </div>
</div>