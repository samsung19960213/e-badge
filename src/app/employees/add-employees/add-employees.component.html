<div fxLayout="column" class="components-container-gt-xs" [ngClass.xs]="'components-container-xs'" fxLayoutGap="20px">

    <div fxFlex class="form-component-holder mat-elevation-z4">
        <mat-toolbar class="form-header">
            <h1 class="mat-headline center-align">Add Employee </h1>
        </mat-toolbar>
        <div [hidden]="submitted" fxLayout="column" class="widgetHolder-content" fxLayoutAlign="space-around stretch" style="background-color: white;margin-top: 10px;margin-left: 60px">
            <div class="toolbar px-24 py-8" style="align-items: center;place-content:space-between;">
                <div class="product-image media" fxLayoutAlign="center center">
                    <button mat-fab (click)="imgFileInput.click()" style="background:  #102646">
                        <mat-icon>insert_photo</mat-icon>
                    </button>
                    <input #imgFileInput hidden type="file" (change)="fileEvent($event)" accept="image/*" multiple>

                    <img src="{{employeeDetails.employeeImage}}" *ngIf="employeeDetails.employeeImage !== ''" height="42" width="42">
                </div>
                <div>
                    <h2  class="text" style="text-align: center;font-size: 15px">Upload Image</h2>
                </div>
            </div>

            <form [formGroup]="userForm" fxLayout="column" fxFlex="100">
                <div fxLayout="row" class="formField_sm" fxLayoutAlign="start center" fxFlex="1 0 auto" style="margin-top: 20px">
                    <mat-radio-group [(ngModel)]="employeeDetails.active" formControlName="useractive" name="useractive" class="example-radio-button">
                        <mat-radio-button [value]=1 class="example-radio-button">
                            Active User
                        </mat-radio-button>
                        <mat-radio-button [value]=0 class="example-radio-button" style="margin-left: 100px">
                            Inactive User
                        </mat-radio-button>
                    </mat-radio-group>
                </div>
                <div>
                    <h2  class="text">Personal Details</h2>
                </div>
                <div fxLayout="row" class="formField_sm" fxLayoutAlign="start center" fxFlex="1 0 auto">
                    <mat-form-field fxFlex="30" class="form2Input">
                        <input matInput placeholder="Enter Your First Name" [(ngModel)]="employeeDetails.firstName" formControlName="userfirstName"
                            name="userfirstName" required>
                        <mat-error *ngIf="userForm.controls.userfirstName.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            First Name is required

                        </mat-error>
                        <mat-error *ngIf="userForm.controls.userfirstName.hasError('maxlength')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            minnimum
                        </mat-error>

                    </mat-form-field>

                    <mat-form-field fxFlex="30" class="form2Input">
                        <input matInput type="text" placeholder="Enter Your Last Name" [(ngModel)]="employeeDetails.lastName" formControlName="userlastName"
                            name="userlastName" required>
                        <mat-error *ngIf="userForm.controls.userlastName.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            Last Name is required

                        </mat-error>
                    </mat-form-field>

                    <!-- <input matInput type="date" placeholder="Date Of Birth" [(ngModel)]="employeeDetails.dateOfBirth" formControlName="userdateOfBirth"
                            name="userdateOfBirth" required> -->

                    <mat-form-field fxFlex="30" class="form2Input">
                        <input matInput [matDatepicker]="picker" placeholder="Date Of Birth" [(ngModel)]="employeeDetails.dateOfBirth" formControlName="userdateOfBirth"
                            name="userdateOfBirth" required>
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                        <mat-error *ngIf="userForm.controls.userlastName.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required

                        </mat-error>
                    </mat-form-field>
                </div>

                <div fxLayout="row" class="formField_sm" fxLayoutAlign="start center" fxFlex="1 0 auto">
                    <mat-form-field fxFlex="30" class="form2Input">
                        <input matInput placeholder="Qualification" [(ngModel)]="employeeDetails.qualification" formControlName="userqualification"
                            name="userqualification" required>
                        <mat-error *ngIf="userForm.controls.userqualification.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required

                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="30" class="form2Input">
                        <mat-select placeholder="Blood Group" [(ngModel)]="employeeDetails.bloodGroup" formControlName="userbloodGroup" name="userbloodGroup"
                            required>

                            <mat-option value="A+">A+</mat-option>
                            <mat-option value="B+">B+ </mat-option>
                            <mat-option value="O+">O+</mat-option>
                            <mat-option value="AB+">AB+</mat-option>
                            <mat-option value="A-">A-</mat-option>
                            <mat-option value="B-">B-</mat-option>
                            <mat-option value="O-">O-</mat-option>
                            <mat-option value="AB-">AB-</mat-option>
                        </mat-select>
                        <mat-error *ngIf="userForm.controls.userbloodGroup.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required

                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="30" class="form2Input">
                        <mat-select type="number" placeholder="Gender" [(ngModel)]="employeeDetails.gender" formControlName="usergender" name="usergender"
                            required>
                            <mat-option value="Male">Male</mat-option>
                            <mat-option value="Female">Female </mat-option>
                            <mat-option value="Others">Others</mat-option>
                        </mat-select>

                        <mat-error *ngIf="userForm.controls.usergender.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                    </mat-form-field>
                </div>

                <div fxLayout="row" class="formField_sm" fxLayoutAlign="start center" fxFlex="1 0 auto" style="margin-top: 20px">
                    <mat-radio-group [(ngModel)]="employeeDetails.isUser" formControlName="userisUser" name="userisUser" class="example-radio-button">
                        <mat-radio-button [value]=1 class="example-radio-button">
                            User
                        </mat-radio-button>
                        <mat-radio-button [value]=0 class="example-radio-button" style="margin-left: 100px">
                            Employee
                        </mat-radio-button>
                    </mat-radio-group>
                </div>
                <div style="margin-top: 10px">
                    <h2 class="text">Present Address</h2>
                </div>
                <div fxLayout="row" class="formField_sm" fxLayoutAlign="start center" fxFlex="1 0 auto">
                    <mat-form-field fxFlex="45" class="form2Input">
                        <input matInput type="text" placeholder="Enter Permanent Address" [(ngModel)]="employeeDetails.addressLine1" formControlName="useraddressLine1"
                            name="useraddressLine1" required>
                        <mat-error *ngIf="userForm.controls.useraddressLine1.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="45" class="form2Input">
                        <input matInput type="text" placeholder="Enter Present Address Line 1" [(ngModel)]="employeeDetails.addressLine2" formControlName="useraddressLine2"
                            name="useraddressLine2" required>
                        <mat-error *ngIf="userForm.controls.useraddressLine2.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                    </mat-form-field>

                </div>
                <div fxLayout="row" class="formField_sm" fxLayoutAlign="start center" fxFlex="1 0 auto">
                    <mat-form-field fxFlex="30" class="form2Input">
                        <input matInput type="text" placeholder="Enter City" [(ngModel)]="employeeDetails.city" formControlName="usercity" name="usercity"
                            required>
                        <mat-error *ngIf="userForm.controls.usercity.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="30" class="form2Input">
                        <input matInput type="text" placeholder="Enter District" [(ngModel)]="employeeDetails.distict" formControlName="userdistict"
                            name="userdistict" required>
                        <mat-error *ngIf="userForm.controls.userdistict.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="30" class="form2Input">
                        <input matInput type="text" placeholder="Enter State" [(ngModel)]="employeeDetails.state" formControlName="userstate" name="userstate"
                            required>
                        <mat-error *ngIf="userForm.controls.userstate.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                    </mat-form-field>
                </div>
                <div fxLayout="row" class="formField_sm" fxLayoutAlign="start center" fxFlex="1 0 auto">
                    <mat-form-field fxFlex="30" class="form2Input">
                        <input matInput type="text" placeholder="Enter country" [(ngModel)]="employeeDetails.country" formControlName="usercountry"
                            name="usercountry" required>
                        <mat-error *ngIf="userForm.controls.usercountry.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="30" class="form2Input">
                        <input matInput type="text" placeholder="Enter Landmark" [(ngModel)]="employeeDetails.landmark" formControlName="userlandmark"
                            name="userlandmark" required>
                        <mat-error *ngIf="userForm.controls.userlandmark.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="30" class="form2Input">
                        <input matInput type="text" placeholder="Enter Pincode" [(ngModel)]="employeeDetails.pincode" formControlName="userpincode"
                            name="userpincode" required>
                        <mat-error *ngIf="userForm.controls.userpincode.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                        <mat-error *ngIf="userForm.controls.userpincode.hasError('maxlength')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            Maximum of 6 digits
                        </mat-error>
                    </mat-form-field>
                </div>
                <div>
                    <h2 class="text"> Contact Details</h2>
                </div>
                <div fxLayout="row" class="formField_sm" fxLayoutAlign="start center" fxFlex="1 0 auto">
                    <mat-form-field fxFlex="30" class="form2Input">
                        <input matInput type="text" placeholder="Enter Email" [(ngModel)]="employeeDetails.contactEmail" formControlName="usercontactEmail"
                            name="usercontactEmail" required>
                        <mat-error *ngIf="userForm.controls.usercontactEmail.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                        <mat-error *ngIf="userForm.controls.usercontactEmail.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            Please Enter Valid Email
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="30" class="form2Input">
                        <input matInput type="text" placeholder="Enter Mobile Number" [(ngModel)]="employeeDetails.mobileNo" formControlName="usermobileNo"
                            name="usermobileNo" required>
                        <mat-error *ngIf="userForm.controls.usermobileNo.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                        <mat-error *ngIf="userForm.controls.usermobileNo.hasError('minlength')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            Minimum of 10 digit number
                        </mat-error>
                        <mat-error *ngIf="userForm.controls.usermobileNo.hasError('maxlength')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            Maximum of 10 digit number
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="30" class="form2Input">
                        <input matInput type="text" placeholder="Enter Alternate contact Number" [(ngModel)]="employeeDetails.alternateContactNo"
                            formControlName="useralternateContactNo" name="useralternateContactNo" required>
                        <mat-error *ngIf="userForm.controls.useralternateContactNo.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                        <mat-error *ngIf="userForm.controls.useralternateContactNo.hasError('minlength')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            Minimum of 10 digit number
                        </mat-error>
                        <mat-error *ngIf="userForm.controls.useralternateContactNo.hasError('maxlength')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            Maximum of 10 digit number
                        </mat-error>
                    </mat-form-field>
                </div>
                <div>
                    <h2 class="text">Previous Work Details</h2>
                </div>
                <div fxLayout="row" class="formField_sm" fxLayoutAlign="start center" fxFlex="1 0 auto">
                    <mat-form-field fxFlex="30" class="form2Input">
                        <input matInput type="text" placeholder="Former Company Name" [(ngModel)]="employeeDetails.formerCompanyName" formControlName="userformerCompanyName"
                            name="userformerCompanyName" required>
                        <mat-error *ngIf="userForm.controls.userformerCompanyName.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="30" class="form2Input">

                        <input matInput [matDatepicker]="pickerJoin" placeholder="Join Date" [(ngModel)]="employeeDetails.formerComapnyJoinDate"
                            formControlName="userformerComapnyJoinDate" name="userformerComapnyJoinDate" required>
                        <mat-datepicker-toggle matSuffix [for]="pickerJoin"></mat-datepicker-toggle>
                        <mat-datepicker #pickerJoin></mat-datepicker>
                        <mat-error *ngIf="userForm.controls.userformerComapnyJoinDate.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="30" class="form2Input">
                            <input matInput [matDatepicker]="pickerEnd"placeholder="End Date" [(ngModel)]="employeeDetails.formerCompanyEndDate" formControlName="userformerCompanyEndDate"
                            name="userformerCompanyEndDate" required>
                        <mat-datepicker-toggle matSuffix [for]="pickerEnd"></mat-datepicker-toggle>
                        <mat-datepicker #pickerEnd></mat-datepicker>
                        <mat-error *ngIf="userForm.controls.userformerCompanyEndDate.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                    </mat-form-field>
                </div>
                <div>
                    <h2 class="text">Current Work Details</h2>
                </div>
                <div fxLayout="row" class="formField_sm" fxLayoutAlign="start center" fxFlex="1 0 auto">
                    <mat-form-field fxFlex="30" class="form2Input">
                        <mat-select type="number" (ngModelChange)="reportMgr($event)"  placeholder="Department" [(ngModel)]="employeeDetails.departmentId" formControlName="userdepartmentId"
                            name="userdepartmentId" required>
                            <mat-option *ngFor="let department of departmentList " [value]="department.id">
                                <span>{{department.departmentName}}</span>
                            </mat-option>
                           
                        </mat-select>

                        <mat-error *ngIf="userForm.controls.userdepartmentId.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="30" class="form2Input">
                        <mat-select type="number" placeholder="Designation" [(ngModel)]="employeeDetails.designationId" formControlName="userdesignationId"
                            name="userdesignationId" required>
                            <mat-option *ngFor="let designation of designationList" [value]="designation.id">
                                <span>{{designation.designationName}}</span>
                            </mat-option>

                            
                        </mat-select>
                        <mat-error *ngIf="userForm.controls.userdesignationId.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="30" class="form2Input">
                      
                        <input matInput [matDatepicker]="pickerJoining" placeholder="Joining Date" [(ngModel)]="employeeDetails.joiningDate" formControlName="userjoiningDate"
                        name="userjoiningDate" required>
                    <mat-datepicker-toggle matSuffix [for]="pickerJoining"></mat-datepicker-toggle>
                    <mat-datepicker #pickerJoining></mat-datepicker>
                    <mat-error *ngIf="userForm.controls.userjoiningDate.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                        This field is required
                    </mat-error>
                </mat-form-field>
                </div>
                <div fxLayout="row" class="formField_sm" fxLayoutAlign="start center" fxFlex="1 0 auto">
                   
                    <mat-form-field fxFlex="30" class="form2Input">
                        <input matInput type="text" placeholder="Medical Info" [(ngModel)]="employeeDetails.medicalInfo" formControlName="usermedicalInfo"
                            name="usermedicalInfo" required>
                        <mat-error *ngIf="userForm.controls.usermedicalInfo.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="30" class="form2Input">
                        <input matInput type="text" placeholder="Work Experience" [(ngModel)]="employeeDetails.experinces" formControlName="userworkExperince"
                            name="userworkExperince" required>
                        <mat-error *ngIf="userForm.controls.userworkExperince.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="30" class="form2Input">
                        <input matInput type="text" placeholder="Salary" [(ngModel)]="employeeDetails.salary" formControlName="usersalary" name="usersalary"
                            required>
                        <mat-error *ngIf="userForm.controls.usersalary.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                    </mat-form-field>
                </div>
                <div fxLayout="row" class="formField_sm" fxLayoutAlign="start center" fxFlex="1 0 auto">
                  
                    <mat-form-field fxFlex="30" class="form2Input">
                        <mat-select placeholder="Shift" [(ngModel)]="employeeDetails.shiftId" formControlName="usershiftId" name="usershiftId" type="number"
                            required>
                            <mat-option *ngFor="let shift of shiftList" [value]="shift.id">
                                <span>{{shift.shiftName}}</span>
                            </mat-option>
                           
  
                            <mat-error *ngIf="userForm.controls.usershiftId.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                                This field is required
                            </mat-error>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field fxFlex="30" class="form2Input">
                        <mat-select type="number" placeholder="User Role" [(ngModel)]="employeeDetails.userRoleId" formControlName="useruserRoleId"
                            name="useruserRoleId"  required>
                            <mat-option value=2>User</mat-option>
                            <mat-option value=3>Reporting Manager</mat-option>
                        </mat-select>
                        <mat-error *ngIf="userForm.controls.useruserRoleId.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                            This field is required
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="30" class="form2Input">
                      
                        <mat-select type="number" placeholder="Reporting manager name" [(ngModel)]="employeeDetails.reportingManagerId" formControlName="userreportingManagerId"
                        name="userreportingManagerId" required>
                         <mat-option *ngFor="let manager of managerList" [value]="manager.id">
                                <span>{{manager.firstName + " "+ manager.lastName}}</span>
                            </mat-option>
                       
                        <!-- <mat-option value=3>Reporting Manager</mat-option> -->
                    </mat-select>
                    <mat-error *ngIf="userForm.controls.userreportingManagerId.hasError('required')" align="start" style="color: red;" class="mat-body-1 center-align ">
                        This field is required
                    </mat-error>
                </mat-form-field>
                </div>
                <div fxLayout="row" class="formField_sm" fxLayoutAlign="start center" fxFlex="1 0 auto">
                  
                </div>
                <div style="margin-top: 20px;margin-bottom: 30px" fxLayoutAlign="center center" fxFlex="1 0 auto">
                    <button mat-raised-button color="primary"  [disabled]="!userForm.valid" style="width:150px;margin-left: -60px"
                        (click)="saveDetails(employeeDetails)">Submit</button>
                    <!-- 
                    <button mat-raised-button color="primary" fxFlex="50" style="width:150px;margin-top: -35px;margin-left: 10px">Update</button> -->
                </div>
            </form>
        </div>

    </div>
</div>